<mat-card class="texts-card p-1">
  <loader [isLoading]="isLoading" [overlay]="false"/>
  <div *ngIf="!isLoading" [formGroup]="form" class="mt-2">
    <div [formArrayName]="formName">
      <div *ngFor="let textGroup of textsFormArray.controls; let i = index;" [formGroupName]="i" class="d-flex align-items-center mb-3">
        <mat-form-field appearance="outline" class="w-25" subscriptSizing="dynamic">
          <mat-label>
            {{ t('sharedComponents.textInput.labelLanguage') }}
          </mat-label>
          <mat-select formControlName="languageId" required>
            <mat-option *ngFor="let language of languages" [value]="language.languageId" [disabled]="isLanguageChosen(language.languageId)">
              {{ getLanguageName(language.code) }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="flex-1 ms-2" subscriptSizing="dynamic">
          <mat-label>
            {{ t('sharedComponents.textInput.labelText') }}
          </mat-label>
          <input *ngIf="isOneRow" matInput formControlName="text" required/>
          <textarea *ngIf="!isOneRow" matInput formControlName="text" required></textarea>
        </mat-form-field>

        <button mat-icon-button color="warn" (click)="removeText(i)" [disabled]="i === 0">
          <mat-icon>remove_circle</mat-icon>
        </button>
      </div>
    </div>

    <div class="d-flex justify-content-center mt-n2">
      <button mat-icon-button color="primary" (click)="addEmptyForm()" [disabled]="languages.length == textsFormArray.controls.length">
        <mat-icon>add_circle</mat-icon>
      </button>
    </div>
  </div>
</mat-card>